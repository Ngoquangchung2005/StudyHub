<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ÄÄƒng nháº­p - StudyHub</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link th:href="@{/css/auth.css}" rel="stylesheet" />
</head>
<body>

<div class="auth-page">
  <div class="auth-container">
    <div class="auth-card">

      <!-- Header -->
      <div class="auth-header">
        <div class="auth-logo">ğŸ“š</div>
        <h2>ChÃ o má»«ng trá»Ÿ láº¡i!</h2>
        <p>ÄÄƒng nháº­p Ä‘á»ƒ tiáº¿p tá»¥c há»c táº­p</p>
      </div>

      <!-- Body -->
      <div class="auth-body">

        <!-- Error Message -->
        <div th:if="${param.error}" class="alert-custom alert-danger-custom">
          âŒ Sai tÃªn Ä‘Äƒng nháº­p hoáº·c máº­t kháº©u. Vui lÃ²ng thá»­ láº¡i.
        </div>

        <!-- Success Message -->
        <div th:if="${successMessage}" class="alert-custom alert-success-custom">
          âœ… <span th:text="${successMessage}"></span>
        </div>

        <!-- Logout Message -->
        <div th:if="${param.logout}" class="alert-custom alert-info-custom">
          â„¹ï¸ Báº¡n Ä‘Ã£ Ä‘Äƒng xuáº¥t thÃ nh cÃ´ng.
        </div>

        <!-- Login Form -->
        <form th:action="@{/login}" method="POST" id="loginForm">

          <!-- Username/Email -->
          <div class="form-group">
            <label for="username">TÃªn Ä‘Äƒng nháº­p hoáº·c Email</label>
            <input type="text"
                   class="form-control-auth"
                   id="username"
                   name="username"
                   placeholder="Nháº­p tÃªn Ä‘Äƒng nháº­p hoáº·c email"
                   required
                   autocomplete="username">
            <span class="input-icon">ğŸ‘¤</span>
          </div>

          <!-- Password -->
          <div class="form-group">
            <label for="password">Máº­t kháº©u</label>
            <input type="password"
                   class="form-control-auth"
                   id="password"
                   name="password"
                   placeholder="Nháº­p máº­t kháº©u"
                   required
                   autocomplete="current-password">
            <span class="password-toggle" onclick="togglePassword()">ğŸ‘ï¸</span>
          </div>

          <!-- Remember Me -->
          <div class="custom-checkbox">
            <input type="checkbox" id="remember" name="remember">
            <label for="remember">Ghi nhá»› Ä‘Äƒng nháº­p</label>
          </div>

          <!-- Submit Button -->
          <button type="submit" class="btn-auth" id="loginBtn">
            ÄÄƒng nháº­p
          </button>

        </form>

        <!-- Divider -->
        <div class="divider">
          <span>hoáº·c</span>
        </div>

        <!-- Forgot Password -->
        <div style="text-align: center;">
          <a href="#" style="color: #667eea; text-decoration: none; font-size: 14px;">
            QuÃªn máº­t kháº©u?
          </a>
        </div>

      </div>

      <!-- Footer -->
      <div class="auth-footer">
        <p>ChÆ°a cÃ³ tÃ i khoáº£n? <a th:href="@{/register}">ÄÄƒng kÃ½ ngay</a></p>
      </div>

    </div>
  </div>
</div>

<script>
  // Toggle show/hide password
  function togglePassword() {
    const passwordInput = document.getElementById('password');
    const toggleIcon = document.querySelector('.password-toggle');

    if (passwordInput.type === 'password') {
      passwordInput.type = 'text';
      toggleIcon.textContent = 'ğŸ™ˆ';
    } else {
      passwordInput.type = 'password';
      toggleIcon.textContent = 'ğŸ‘ï¸';
    }
  }

  // Form validation vÃ  loading state
  document.getElementById('loginForm').addEventListener('submit', function(e) {
    const btn = document.getElementById('loginBtn');
    btn.classList.add('loading');
    btn.disabled = true;
  });
</script>

</body>
</html>